<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ğŸ’– My Best Person Ever ğŸ’–</title>

<style>
body{
  font-family: Comic Sans MS;
  background:url('background.jpg') no-repeat center center fixed;
  background-size:cover;
  text-align:center;
  color:white;
  padding:40px;
}

.section{
  background:rgba(255,105,180,0.8);
  padding:20px;
  border-radius:20px;
  max-width:500px;
  margin:auto;
  margin-top:20px;
}

button{
  background:hotpink;
  border:none;
  padding:10px 20px;
  border-radius:10px;
  color:white;
  font-weight:bold;
  margin:10px;
  cursor:pointer;
}

input, textarea{
  width:80%;
  padding:8px;
  border-radius:8px;
  border:none;
  margin:5px;
}

.countdown{
  font-size:18px;
  margin-bottom:15px;
}

img{
  width:250px;
  border-radius:15px;
  border:3px solid white;
  margin:10px 0;
}
</style>
</head>

<body>

<h1>ğŸ’– My Best Person Ever ğŸ’–</h1>

<!-- PAGE 1 -->
<div class="section" id="page1">
  <h3>Enter Password ğŸ’Œ</h3>
  <input type="text" id="password" placeholder="Hint: My Birthday">
  <br>
  <button onclick="checkPassword()">Unlock ğŸ”</button>
</div>

<!-- PAGE 2 -->
<div class="section" id="page2" style="display:none;">
  <div class="countdown" id="countdown"></div>
  <h3>Our Favorite Photo ğŸ¥°</h3>
  <img src="photo1.jpg">
  <br>
  <button onclick="nextPage()">Next â¡ï¸</button>
</div>

<!-- PAGE 3 -->
<div class="section" id="page3" style="display:none;">
  <h3>Answer These ğŸ’•</h3>

  <p>Do you love me? â¤ï¸</p>
  <input type="text" id="love">

  <p>Most special moment with me? ğŸ¥°</p>
  <input type="text" id="moment">

  <p>Something you wanna say to me ğŸ’Œ</p>
  <textarea id="message"></textarea>

  <br>
  <button onclick="submitData()">Submit ğŸ’–</button>
</div>

<!-- PAGE 4 -->
<div class="section" id="page4" style="display:none;">
  <h3>ğŸ’– Surprise ğŸ’–</h3>
  <img src="surprise.PNG">

  <p>
  I just want you to know that you are truly a special person ğŸŒŸ.
  Thereâ€™s something about you thatâ€™s unlike anyone else Iâ€™ve ever met ğŸ’– â€”
  your kindness, your smile ğŸ˜Š, the way you make people feel seen and valued ğŸŒˆ.
  You hold a special place in my heart â¤ï¸,
  and I hope you never forget how important and amazing you are ğŸŒ¹ğŸ’«.
  </p>
</div>

<script>

// PASSWORD
function checkPassword(){
  const pass = document.getElementById("password").value;
  if(pass === "14122005"){
    document.getElementById("page1").style.display="none";
    document.getElementById("page2").style.display="block";
    startCountdown();
  }else{
    alert("Wrong password ğŸ’”");
  }
}

// COUNTDOWN FROM AUGUST 21 2024
function startCountdown(){
  const startDate = new Date("2024-08-21T00:00:00");
  const cd = document.getElementById("countdown");

  setInterval(()=>{
    const now = new Date();
    const diff = now - startDate;

    const days = Math.floor(diff / (1000*60*60*24));
    const hours = Math.floor((diff/(1000*60*60))%24);
    const mins = Math.floor((diff/(1000*60))%60);
    const secs = Math.floor((diff/1000)%60);

    cd.innerHTML = "Together for: " + days + " days " + hours + "h " + mins + "m " + secs + "s ğŸ’";
  },1000);
}

function nextPage(){
  document.getElementById("page2").style.display="none";
  document.getElementById("page3").style.display="block";
}

// SUBMIT TO SHEETDB
async function submitData(){

  const love = document.getElementById("love").value.trim();
  const moment = document.getElementById("moment").value.trim();
  const message = document.getElementById("message").value.trim();

  if(love==="" || moment==="" || message===""){
    alert("Please answer all questions ğŸ’•");
    return;
  }

  try{
    const response = await fetch("https://sheetdb.io/api/v1/m1mdy2b4n7l6u",{
      method:"POST",
      headers:{
        "Content-Type":"application/json"
      },
      body:JSON.stringify({
        data:[{
          timestamp:new Date().toLocaleString(),
          loveAnswer:love,
          moment:moment,
          message:message
        }]
      })
    });

    const result = await response.json();
    console.log(result);

    alert("Submitted successfully ğŸ’–");

    document.getElementById("page3").style.display="none";
    document.getElementById("page4").style.display="block";

  }catch(error){
    alert("Submission failed âŒ");
    console.log(error);
  }
}

</script>

</body>
</html>
