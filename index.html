<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ’– My Best Person Ever ğŸ’–</title>
<style>
body {
  font-family: 'Comic Sans MS', cursive, sans-serif;
  background: url('background.jpg') no-repeat center center fixed;
  background-size: cover;
  text-align: center;
  padding: 40px;
  color: white;
}
h1 { font-size: 2.5em; text-shadow: 2px 2px 5px deeppink; }
.section {
  background: rgba(255,105,180,0.7);
  padding: 20px;
  border-radius: 20px;
  margin: 20px auto;
  max-width: 500px;
}
button {
  background: hotpink;
  border: none;
  padding: 10px 20px;
  margin: 10px;
  border-radius: 10px;
  color: white;
  font-weight: bold;
  cursor: pointer;
}
input { padding: 8px; border-radius: 8px; border: none; margin:5px; }
.countdown { font-size:1.3em; margin-top:15px; color:#fff; text-shadow:1px 1px 3px darkred; }
</style>
</head>
<body>

<h1>ğŸ’– My Best Person Ever ğŸ’–</h1>

<!-- PAGE 1: Password -->
<div class="section" id="page1">
  <h2>Enter Password to Continue ğŸ’Œ</h2>
  <input type="text" id="passwordInput" placeholder="Hint: My Birthday">
  <button id="passwordBtn">Submit ğŸ”‘</button>
</div>

<!-- PAGE 2: Countdown -->
<div class="section" id="page2" style="display:none;">
  <div class="countdown" id="photoCountdown"></div>
  <button onclick="goToQuestions()">Next â¡ï¸</button>
  <button onclick="goBack(1)">Back â¬…ï¸</button>
</div>

<!-- PAGE 3: Questions -->
<div class="section" id="page3" style="display:none;">
  <h2>Answer This ğŸ’•</h2>
  <p>Do you love me? â¤ï¸</p>
  <input type="text" id="love"><br>
  <p>Most special moment with me? ğŸ¥°</p>
  <input type="text" id="moment"><br>
  <button onclick="submitData()">Submit ğŸ’Œ</button>
  <button onclick="goBack(2)">Back â¬…ï¸</button>
</div>

<!-- PAGE 4: Surprise Message -->
<div class="section" id="page4" style="display:none;">
  <h2>ğŸ’– Surprise! ğŸ’–</h2>
  <p>
    I just want you to know that you are truly a special person ğŸŒŸ.  
    Thereâ€™s something about you thatâ€™s unlike anyone else Iâ€™ve ever met ğŸ’– â€”  
    your kindness, your smile ğŸ˜Š, the way you make people feel seen and valued ğŸŒˆ.  
    You hold a special place in my heart â¤ï¸, and I canâ€™t help but admire everything that makes you uniquely you âœ¨.  
    The world feels brighter just because youâ€™re in it â˜€ï¸, and I hope you never forget how important and amazing you are ğŸŒ¹ğŸ’«.
  </p>
  <button onclick="goBack(3)">Back â¬…ï¸</button>
</div>

<script>
// Password Lock
document.getElementById("passwordBtn").addEventListener("click", ()=>{
  const val = document.getElementById("passwordInput").value;
  if(val === "14122005"){
    showPage2();
  } else alert("âŒ Wrong password! Hint: My Birthday");
});

// Countdown from August 21, 2024
function showPage2(){
  document.getElementById("page1").style.display="none";
  document.getElementById("page2").style.display="block";
  const countdownEl=document.getElementById("photoCountdown");
  const startDate=new Date("2024-08-21T00:00:00");

  setInterval(()=>{
    const now=new Date();
    const diff=now - startDate;
    const days  = Math.floor(diff/1000/60/60/24);
    const hours = Math.floor((diff/1000/60/60)%24);
    const mins  = Math.floor((diff/1000/60)%60);
    const secs  = Math.floor((diff/1000)%60);
    countdownEl.textContent = `Together for: ${days}d ${hours}h ${mins}m ${secs}s`;
  },1000);
}

// Navigation
function goToQuestions(){
  document.getElementById("page2").style.display="none";
  document.getElementById("page3").style.display="block";
}
function goBack(page){
  document.getElementById("page1").style.display="none";
  document.getElementById("page2").style.display="none";
  document.getElementById("page3").style.display="none";
  document.getElementById("page4").style.display="none";
  if(page===1) document.getElementById("page1").style.display="block";
  if(page===2) document.getElementById("page2").style.display="block";
  if(page===3) document.getElementById("page3").style.display="block";
}

// Submit to SheetDB
async function submitData(){
  const love = document.getElementById("love").value;
  const moment = document.getElementById("moment").value;

  if(love.trim()==="" || moment.trim()===""){
    alert("âŒ Please answer all questions before submitting!");
    return;
  }

  try {
    const response = await fetch("https://sheetdb.io/api/v1/m1mdy2b4n7l6u", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body: JSON.stringify({
        data:{
          timestamp: new Date().toLocaleString(),
          loveAnswer: love,
          moment: moment
        }
      })
    });
    if(response.ok){
      alert("âœ… Submitted successfully!");
      document.getElementById("love").value="";
      document.getElementById("moment").value="";
      // Go to surprise page
      document.getElementById("page3").style.display="none";
      document.getElementById("page4").style.display="block";
    } else alert("âŒ Submission failed. Try again.");
  } catch(e){
    console.error(e);
    alert("âŒ Error connecting to SheetDB.");
  }
}
</script>

</body>
</html>
